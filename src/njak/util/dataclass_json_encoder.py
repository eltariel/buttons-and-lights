from dataclasses import dataclass, asdict, is_dataclass
import json


class DataclassJSONEncoder(json.JSONEncoder):
  def default(self, o):
    if is_dataclass(o):
      return asdict(o)
    return super().default(o)
